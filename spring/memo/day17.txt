복습
Ajax로 첨부파일과 문서를 같이 전송해야 하는 경우
	formData 객체에 같이 append를 하면 된다.

첨부파일 등록 부분에서
	formData.append("uploadFile", files[i]);의 【key값】과
	컨트롤러 메소드의 【매개변수명】은 반드시 【일치】시켜야 한다.


---------------------------------------------------------------------------------------------------
ex04에서 ex02로
pom.xml, servlet-context, web.xml(filter와 exception 빼먹지 않기) 복붙

DBeaver
	첨부파일 테이블
	CREATE TABLE TBL_ATTACH(
		UUID VARCHAR2(200) NOT NULL,
		UPLOADPATH VARCHAR2(200) NOT NULL,
		FILENAME VARCHAR2(200) NOT NULL,
		FILETYPE CHAR(1) CHECK(FILETYPE IN(0, 1)),
		BNO NUMBER(10, 0)
	);

	ALTER TABLE TBL_ATTACH ADD CONSTRAINT PK_ATTACH PRIMARY KEY(UUID);
	ALTER TABLE TBL_ATTACH ADD CONSTRAINT FK_ATTACH FOREIGN KEY(BNO) REFERENCES TBL_BOARD(BNO);

	※ 제약조건명을 따로 지정하지 않은 경우 삭제하는 쿼리문
		check에 자동으로 주어진 제약조건명
			DBeaver Table의 Constraints에서 확인할 수 있다.
		ALTER TABLE TBL_ATTACH DROP CONSTRAINT SYS_C007379;

Java
	BoardAttachVO 생성

	BoardVO에 private List<BoardAttachVO> attachList; 추가
		<input> name에 attachList[i].fileName으로 사용한다.
	
	BoardAttachMapper.java 생성 후 BoardAttachMapper.xml 생성해서 쿼리문 작성
		persistence에서 mapper가 실행
			해당 쿼리문에 결과에 따라 인터페이스가 구현이 된다.

	BoardAttachMapper는 BoardServiceImple에서 사용한다.

<form>의 role 속성
	role의 값으로 jQuery에서 <form>을 가져오는 것	

data 속성
	코드에서 data-fileName으로 적는다고 해도,
	브라우저에서는 filename으로 인식한다.
	【대문자는 무조건 소문자로 인식한다.】

	data("key")는 jQuery라서 obj를 $(obj)로 사용해야 한다.
	$(".uploadResult ul li")는 jQuery고 그 안에 있는 obj를 가져왔으니 obj는 자바스크립트

우선순위
	3개 이상의 DML을 사용한 트랜젝션이 있다면,
	ROLLBACK의 우선순위가 가장 빠른 것을 가장 먼저 사용해주어야 한다.
	만약 우선순위에 맞춰서 작성하지 않게 되면 전체 ROLLBACK이 된다.

	커밋이 자동으로 되는 기점에서 자동커밋이 안되는 경우가 발생하기 때문이다.

	첨부파일이 게시글보다 우선순위가 높다(더 상세히 알고 싶다면 cardinality를 공부한다).
	첨부파일 작업이 모두 잘 삭제되고, 게시글의 내용이 수정된다면,
	첨부파일 추가 시 충돌이 발생되지 않는다.
	만약 이 부분을 지키지 않을 경우 다른 트랜젝션에 의해 롤백될 수 있다(방지할 수 있지만, 안전하게 설계).
	매퍼의 쿼리문을 실행했는데 잘 되던 다른 쿼리문이 반영되지 않는 경우 이 오류일 확률이 높다.
	어떤 쿼리를 했는데 어디서 문제가 생기는지 팀장급에게 보고하자.
	